<!-- FurnaceTableView Template -->
<div class="table-header">
  <h2 class="table-title">Furnaces</h2>
  <div class="table-controls">
    <button 
      class="btn btn-secondary"
      @click=${this._toggleGearColumns}
    >
      ${this.showGearColumns ? 'Hide' : 'Show'} Gear
    </button>
    <button 
      class="btn btn-primary"
      @click=${this._toggleForm}
    >
      ${this.showForm ? 'Cancel' : 'Add Furnace'}
    </button>
  </div>
</div>

${this.showForm ? html`
  <div class="form-section">
    <furnace-form
      @furnace-submitted=${this._onFurnaceSubmitted}
      @form-cancelled=${this._onFormCancelled}
    ></furnace-form>
  </div>
` : ''}

<table class="furnace-table">
  <thead>
    <tr>
      <th>#</th>
      <th>Name</th>
      <th>Level</th>
      <th>Power</th>
      <th class="gear-columns ${this.showGearColumns ? 'show' : ''}">Cap</th>
      <th class="gear-columns ${this.showGearColumns ? 'show' : ''}">Watch</th>
      <th class="gear-columns ${this.showGearColumns ? 'show' : ''}">Vest</th>
      <th class="gear-columns ${this.showGearColumns ? 'show' : ''}">Pants</th>
      <th class="gear-columns ${this.showGearColumns ? 'show' : ''}">Ring</th>
      <th class="gear-columns ${this.showGearColumns ? 'show' : ''}">Cane</th>
      <th>Rank</th>
      <th>Participation</th>
      <th>Trap Pref</th>
      <th>X</th>
      <th>Y</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    ${this.furnaces.length > 0 ? 
      this.furnaces.map((furnace, index) => html`
        <furnace-table-row
          .furnace=${furnace}
          .index=${index}
          .showGearColumns=${this.showGearColumns}
          @furnace-updated=${this._onFurnaceUpdated}
          @furnace-deleted=${this._onFurnaceDeleted}
          @gear-edit=${this._onGearEdit}
        ></furnace-table-row>
      `) : html`
        <tr>
          <td colspan="17" class="empty-state">
            No furnaces added yet. Click "Add Furnace" to get started.
          </td>
        </tr>
      `
    }
  </tbody>
</table> 